\chapter{おわりに}
\section{所感}
OJLを経験して，大きく4つのことを学習した．

まず，コミュニケーションの大切さ，難しさである．統計情報表示機能における要件定
義で痛感した．要求を分析する際，自分はTLVユーザでなく，また，RTOSに関する研究を
行ってきたわけでもないので，統計情報にどのようなものがあり，どのようにすれば得
られるのか，どのように統計情報を扱いたいのかなどわからなかった．しかし，ユー
ザにアンケートという形でコミュニケーションを取ることで，要件定義の質を向上させ
ることができた．また，口頭説明や文字のみのコミュニケーションは，多くの誤解を生
み，自分の考えをうまく相手に伝えられなかった．図を使うにしても，使用する図が適
切か，使用方法に誤りがないかに気を付けなければ，誤解を生んでしまう．

次に，ドキュメント整備の重要性である．TLVの設計・実装を調査するときに痛感した．TLVには，クラス図やシーケンス図などの設計書がなく，ソースコードにもコメントが少ない．そのため，各クラスがどのように連携し，クラスのメンバはそれぞれどのような役割があるのかをコードリーディングで把握する必要がある．結果，調査や実装の長期化につながってしまった．

次に，スケジュール作成の難しさである．まず，ソフトウェア開発経験が乏しいため，作業の洗い出しが困難であり，見積もりも曖昧であった．そのため，計画通りになかなか進められなかった．

最後に，企業目線での意見や考え方などにふれつつ作業ができた喜びである．これは，
通常の講義や研究では滅多に味わえない体験であるからだ．通常の講義や研究では，学
術的な部分が大きいが，企業の目線は，作業の効率化やプロジェクト管理の手法など，
実用的なものであるように感じた．

\section{まとめ}
第3期OJLでは，トレースログ可視化ツールであるTLVの開発を継続して行い，TLVに対し
て統計情報表示機能の追加とトレースログパーサのリファクタリングを行った．これら
は，ユーザから収集した要求のうち，特に要求が強かった「CPU利用率などの統計情報の
グラフ表示」と「TLVの高速化」に対応したものである．

統計情報表示機能の追加に伴い，統計情報生成ルールという新しいルールを導入した．これにより，トレースログやそれ以外の様々なファイルから統計情報を取得・生成し，その統計情報に適したグラフの設定が行える．新しいルールだが，既存のルールにある表現をこのルールでも使用する場合，既存のルールに合わせることで利用方法の習得のしやすさを向上させた．また，統計情報生成ルールに生成モードという統計情報の取得・生成するモードを4種類用意し，ユースケースによって使い分けられるようにした．表示に関しては，統計情報をグラフ表示するウィンドウを追加し，統計情報の取得・生成とグラフ表示をTLV内で完結させ，他のアプリケーションを利用せずに済むようにした．

「TLVの高速化」を行うためには，標準形式トレースログへの変換と図形データの生成を高速化する必要がある．その際，それぞれの処理に関するソースコードが複雑化している点が障害となる．そこで，OJL2期生によって立てられたリファクタリング方針を参考に，変換処理に関係するトレースログのパーサ部分のリファクタリングを行った．結果，パーサ・コンビネータを用いることで，コードでEBNFを表現できるようになり，可読性が向上し，若干ながら高速化も図れた．


\section{今後の課題}
第3期OJLで実装した統計情報表示機能は，構想・設計段階において考えられていたいくつかの機能を実装し切れていない．それらの対応が主な課題となる．また，統計情報表示機能に対するユーザのレビューで得られたアイディアもあり，統計情報表示機能はまだ発展途上といえる．現在，確認している課題を以下に示す．

\begin{itemize}
\item 統計情報生成ルールファイルの入力を可視化後にも行える機能
\item 平均・最小・最大を表現するグラフ(現在，積み重ねグラフを考えている)
\item グラフ表示中にグラフ設定を変更できる「グラフ設定ウィンドウ」の実装
\item 基本解析モードにおける「測定したイベント間隔のカウント」を行う解析メソッドの実装
\item 基本解析モードにおけるオプション設定である事前条件の設定実装
\item 可視化表示部またはマクロビューアで範囲指定した部分の統計情報を生成してグラフ表示する機能
\item 統計情報同士を演算処理して新たな統計情報を生成する機能
\item イベントの指定をGUIで行える機能(統計情報表示機能の限りではない)
\end{itemize}
